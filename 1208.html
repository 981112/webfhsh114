<html>
    <head>
        <title>1208-人物移動</title>
        <style>
            #map{
                width:800px;
                height:800px;
                background: url("pic/grass.jpg");
                background-size: 30%;
                /*background-repeat: repeat-y;*/
                animation: bg_move 1s linear infinite;
            }
            @keyframes bg_move{
                0%{background-position: 0% 0%;}
                30%{background-position: 5px 0%;}
                100%{background-position: 0% 0%;}}
                #role {
                    width: 48px;
                    height: 72px;
                    background-image: url("pic/sprite.png");
                    border: 1px solid red;
                    background-position: -144px -432px;
                    animation: walking 1s steps(3) infinite;
                    position: absolute;
                   
                }
                @keyframes walking {
                    0%{background-position-x:-144px;}
                    100%{background-position-x:-144px;}
                }

        </style>
        <script>
         function mykeydown(){
           event.preventDefault();
           var role=document.getElementById("role");
           if(event.key=="ArrowDown") {
            role.style.backgroundPositionY="-288px";
            if(role.posY<728)role.posY++;
           }else if(event.key=="ArrowLeft"){
            role.style.backgroundPositionX="-360px";}
             if(role.posX>0)role.posY--;
            else if(event.key=="ArrowRight"){
            role.style.backgroundPositionX="-432px";}
             if(role.posX<752)role.posX++;
            else if(event.key=="ArrowUp"){
            role.style.backgroundPositionY="-504px";
            if(role.posY >0)role.posY--;
           }
           role.style.left=role.posX+"px";
           role.style.top=role.posY+"px";
         }function page_init(){
            var role=document.getElementById("role");
            role.posX=374;
            role.posY=364;
         }
        </script>
    </head>
    <body onload="page_init();" onkeydown="mykeydown();">
        <div id="map">
        <div id="role"></div></div>
        
    </body>
</html>